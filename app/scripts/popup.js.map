{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":"AAAA,YAAY,CAAC;;;;AAEb,IAAI,MAAM,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC;AAClD,IAAI,eAAe,GAAG,QAAQ,CAAC,cAAc,CAAC,gBAAgB,CAAC,CAAC;AAChE,IAAI,SAAS,GAAG,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;AAChD,IAAI,QAAQ,YAAA,CAAC;;AAEb,SAAS,YAAY,CAAC,IAAI,EAAE;AAC1B,SAAO,IAAI,GAAG,EAAE,GAAG,IAAI,CAAC;CACzB;;AAED,SAAS,aAAa,GAAG;;AAEvB,MAAI,KAAK,CAAE,QAAQ,CAAC,SAAS,CAAC,KAAK,CAAC,CAAE,EAAE;AACtC,aAAS,CAAC,KAAK,GAAG,SAAS,CAAC,GAAG,CAAC;GACjC;CACF;;AAED,SAAS,MAAM,GAAG;AAChB,MAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE;AACrC,aAAS,CAAC,KAAK,EAAE,CAAC;GACnB;CACF;AACD,SAAS,QAAQ,GAAG;AAClB,MAAI,CAAC,SAAS,CAAC,KAAK,GAAG,CAAC,SAAS,CAAC,GAAG,EAAE;AACrC,aAAS,CAAC,KAAK,EAAE,CAAC;GACnB;CACF;;AAED,SAAS,WAAW,GAAG;;;AAErB,MAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAE,IAAI,CAAC,MAAM,EAAE,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAE,CAAC;AACnE,UAAQ,GAAG,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;;AAEpC,iBAAe,CAAC,WAAW,GAAG,QAAQ,CAAC,KAAK,CAAC;CAC9C;;AAED,SAAS,YAAY,GAAG;AACtB,MAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAE,SAAS,CAAC,KAAK,CAAE,CAAC;AACzC,QAAM,CAAC,IAAI,GAAG,SAAS,CAAC,KAAK,CAAC;;AAE9B,QAAM,CAAC,OAAO,CAAC,WAAW,CAAC;AACzB,UAAM,EAAE,MAAM;AACd,YAAQ,EAAE,QAAQ;AAClB,UAAM,EAAE,YAAY,CAAC,IAAI,CAAC;AAC1B,QAAI,EAAE,IAAI;GACX,CAAC,CAAC;CACJ;;;;;;AAAA,AAMD,WAAW,EAAE,CAAC;AACd,SAAS,CAAC,KAAK,GAAG,MAAM,CAAC,SAAS,CAAC,iBAAiB,EAAE,CAAC,IAAI,IAAI,SAAS,CAAC,KAAK,CAAC;AAC/E,6BAAI,QAAQ,CAAC,gBAAgB,CAAC,eAAe,CAAC,GAAE,OAAO,CAAE,UAAA,EAAE,EAAI;AAC7D,IAAE,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC,QAAQ,GAAG,OAAO,GAAG,MAAM;AAAC,CACvD,CAAC;;;;;;AAAC,AAMH,SAAS,CAAC,gBAAgB,CAAC,MAAM,EAAE,aAAa,CAAC,CAAC;AAClD,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,MAAM,CAAC,CAAC;AAClE,QAAQ,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;AACrE,QAAQ,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAY,CAAC,CAAC;AACxE,QAAQ,CAAC,cAAc,CAAC,cAAc,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,WAAW,CAAC,CAAC;AAC/E,QAAQ,CAAC,cAAc,CAAC,SAAS,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,YAAW;AACtE,QAAM,CAAC,OAAO,CAAC,eAAe,EAAE,CAAC;CAClC,CAAC;;;AAAC","file":"popup.js","sourcesContent":["'use strict';\n\nlet bgPage = chrome.extension.getBackgroundPage();\nlet bookmarkTitleEl = document.getElementById('bookmark-title');\nlet minsInput = document.getElementById('mins');\nlet bookmark;\n\nfunction minsToMillis(mins) {\n  return mins * 60 * 1000;\n}\n\nfunction sanitizeInput() {\n  // if the input has no value we will default it to minimum value\n  if (isNaN( parseInt(minsInput.value) )) {\n    minsInput.value = minsInput.min;\n  }\n}\n\nfunction spinUp() {\n  if (+minsInput.value < +minsInput.max) {\n    minsInput.value++;\n  }\n}\nfunction spinDown() {\n  if (+minsInput.value > +minsInput.min) {\n    minsInput.value--;\n  }\n}\n\nfunction getBookmark() { // at random\n\n  let random = Math.floor( Math.random() * bgPage.bookmarks.length );\n  bookmark = bgPage.bookmarks[random];\n\n  bookmarkTitleEl.textContent = bookmark.title;\n}\n\nfunction openBookmark() {\n  let mins = Math.round( minsInput.value );\n  bgPage.mins = minsInput.value;\n\n  chrome.runtime.sendMessage({\n    action: 'open',\n    bookmark: bookmark,\n    millis: minsToMillis(mins),\n    mins: mins\n  });\n}\n\n/*\n    UI State\n    --------\n*/\ngetBookmark();\nminsInput.value = chrome.extension.getBackgroundPage().mins || minsInput.value;\n[...document.querySelectorAll('.timer-toggle')].forEach( el => {\n  el.style.display = bgPage.hasTimer ? 'block' : 'none'; // toggle timer visibility\n});\n\n/*\n    Event Bindings\n    --------------\n*/\nminsInput.addEventListener('blur', sanitizeInput);\ndocument.getElementById('plus').addEventListener('click', spinUp);\ndocument.getElementById('minus').addEventListener('click', spinDown);\ndocument.getElementById('open').addEventListener('click', openBookmark);\ndocument.getElementById('get-bookmark').addEventListener('click', getBookmark);\ndocument.getElementById('options').addEventListener('click', function() {\n  chrome.runtime.openOptionsPage();\n});\n\n\n// chrome.runtime.openOptionsPage(function callback)\n\n"]}