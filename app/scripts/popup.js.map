{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":"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","file":"popup.js","sourcesContent":["'use strict';\n\nlet realBookmarks = [];\nlet minsInput = document.getElementById('mins');\n\nfunction filterBookmarks(bookmarks) {\n\n    bookmarks.forEach(bookmark => {\n      \n      if (bookmark.url) {\n        realBookmarks.push(bookmark);\n        // console.log('bookmark: ' + bookmark.title + ' ~  ' + bookmark.url);\n      }\n\n      if (bookmark.children) {\n        filterBookmarks(bookmark.children);\n      }\n\n    });\n}\n\nfunction getRandomMark() {\n  let randomIndex = Math.floor( Math.random() * realBookmarks.length );\n\n    while (true) {\n      console.log(randomIndex);\n      if (realBookmarks[randomIndex].url) {\n        return realBookmarks[randomIndex];\n      }\n      else {\n        randomIndex = Math.floor( Math.random() * realBookmarks.length );\n      }\n    }\n}\n\nfunction minsToMillis(mins) {\n  return mins * 60 * 1000;\n}\n\nfunction sanitizeInput() {\n  // if the input has no value we will default it to minimum value\n  if (isNaN( parseInt(minsInput.value) )) {\n    minsInput.value = minsInput.min;\n  }\n}\n\nfunction spinUp() {\n  if (+minsInput.value < +minsInput.max) {\n    minsInput.value++;\n  }\n}\nfunction spinDown() {\n  if (+minsInput.value > +minsInput.min) {\n    minsInput.value--;\n  }\n}\nfunction onGetBookmark() {\n  // chrome.bookmarks.getTree(getRandomMark);\n  let mark = getRandomMark();\n  let mins = Math.round( minsInput.value );\n\n  console.log(mark.url);\n\n  localStorage.timePeriod = minsInput.value;\n\n  chrome.runtime.sendMessage({\n    redirect: mark.url,\n    millis: minsToMillis(mins)\n  });\n}\n\n\n/*\n    UI State\n    --------\n*/\nif (localStorage.timePeriod) {\n  document.getElementById('mins').value = localStorage.timePeriod;\n}\n\n/*\n    Event Bindings\n    --------------\n*/\ndocument.getElementById('mins').addEventListener('blur', sanitizeInput);\ndocument.getElementById('plus').addEventListener('click', spinUp);\ndocument.getElementById('minus').addEventListener('click', spinDown);\ndocument.getElementById('get-bookmarks').addEventListener('click', onGetBookmark);\n\n\nchrome.bookmarks.getTree(filterBookmarks);\n\n"]}